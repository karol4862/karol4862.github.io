(window.webpackJsonp=window.webpackJsonp||[]).push([["favorite"],{"8a04":function(t,e,s){"use strict";s.r(e);var r=s("8dc2"),a=s.n(r),i=s("8cc3"),o={props:["data","selectedItems"],data:function(){return{imgUrl:i.a.photoServiceUrl,productQty:1}},methods:{onError:function(t){t.target.src="".concat(this.imgUrl,"/brak_zdjecia.jpg")},deleteFromFavorite:function(){var t={id:this.data.id},e=this;this.$store.dispatch("favorite/deleteProductFromFavorite",t).then((function(t){e.$emit("reloadFavoriteList",!0)}))}},mounted:function(){this.$el.querySelector("img").onerror=this.onError},computed:{generateUrl:function(){return"/offer/".concat(this.data.url,"-").concat(this.data.id)}},components:{VLazyImage:a.a}},n=s("2877"),c={data:function(){return{isLoad:!1,favorites:[],selectedItems:[]}},methods:{getFavoriteProduct:function(){this.isLoad=!0,localStorage.getItem("favorites")&&(this.favorites=JSON.parse(localStorage.getItem("favorites"))),this.isLoad=!1},reloadFavoriteProduct:function(){this.isLoad=!0;var t=this;this.$store.dispatch("favorite/countAddedProductToFavorite").then((function(e){t.getFavoriteProduct(),t.isLoad=!1}))}},mounted:function(){this.getFavoriteProduct()},components:{ThumbListItem:Object(n.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{attrs:{"no-body":""}},[s("b-row",{staticClass:"product flex-row justify-content-center align-items-center"},[s("b-colxx",{staticClass:"d-none d-sm-block",attrs:{xxs:"2",sm:"2"}},[s("router-link",{attrs:{to:t.generateUrl}},[s("img",{staticClass:"img-fluid mx-auto d-block fit-image",attrs:{src:t.imgUrl+"/"+t.data.code+"/"+t.data.code+"_001.jpg"}})])],1),t._v(" "),s("b-colxx",{attrs:{xxs:"12",sm:"10"}},[s("b-row",{staticClass:"justify-content-center align-items-center"},[s("b-colxx",{attrs:{xxs:"12",md:"12",lg:"7"}},[s("router-link",{attrs:{to:t.generateUrl}},[s("b-row",[s("b-colxx",{staticClass:"product-name",attrs:{xxs:"12"}},[t._v("\n                                "+t._s(t.data.name)+"\n                            ")]),t._v(" "),s("b-colxx",{staticClass:"pt-2 product-code",attrs:{xxs:"12"}},[t._v("\n                                "+t._s(t.data.code)+"\n                            ")])],1)],1)],1),t._v(" "),s("b-colxx",{staticClass:"d-block d-sm-none p-0 m-0",attrs:{xxs:"12",xs:"12",sm:"2"}},[s("router-link",{attrs:{to:t.generateUrl}},[s("img",{staticClass:"img-fluid mx-auto d-block fit-image",attrs:{src:t.imgUrl+"/"+t.data.code+"/"+t.data.code+"_001.jpg"}})])],1),t._v(" "),s("b-colxx",{staticClass:"product-prices",attrs:{xxs:"12",xs:"4",sm:"4",md:"4",lg:"2"}},[s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("div",{staticClass:"price_netto",staticStyle:{display:"inline"}},[t._v("\n                                "+t._s(t._f("currency")(t._f("exchangeRate")(t.data.valueNetto)))+" "),s("span",{staticClass:"type"},[t._v("netto")])])]),t._v(" "),s("b-colxx",{attrs:{xxs:"12"}},[s("div",{staticClass:"price_brutto",staticStyle:{display:"inline"}},[t._v("\n                                "+t._s(t._f("currency")(t._f("exchangeRate")(t.data.valueBrutto)))+" "),s("span",{staticClass:"type"},[t._v("brutto")])])])],1)],1),t._v(" "),s("b-colxx",{staticClass:"product-delete",attrs:{xxs:"6",xs:"3",sm:"3",md:"3",lg:"1"}},[s("span",{staticClass:"text-muted",on:{click:t.deleteFromFavorite}},[t._v(" Usuń ")])])],1)],1)],1)],1)}),[],!1,null,null,null).exports}},l=Object(n.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.isLoad?s("div",{staticClass:"loading"}):t._e(),t._v(" "),s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("piaf-breadcrumb")],1)],1),t._v(" "),s("b-row",{staticClass:"product-favorite"},[s("b-colxx",{attrs:{xxs:"12"}},[s("b-alert",{attrs:{show:"",variant:"info"}},[t._v("\n                Lista ulubionych zapamiętywana jest tylko dla osób zalogowanych. "),s("a",{attrs:{href:"/user/login"}},[t._v("Zaloguj się")]),t._v(", a jeśli nie masz jeszcze konta, "),s("a",{attrs:{href:"/user/register"}},[t._v("zarejestruj się")]),t._v(".\n            ")])],1),t._v(" "),t.favorites.length>0?t._l(t.favorites,(function(e,r){return s("b-colxx",{key:r,staticClass:"mb-3",attrs:{xxs:"12",id:e.id}},[s("thumb-list-item",{key:e.id,attrs:{data:e,"selected-items":t.selectedItems},on:{reloadFavoriteList:t.reloadFavoriteProduct}})],1)})):[s("b-colxx",{attrs:{xxs:"12"}},[t._v("\n                Brak dodanych produktów do listy ulubionych\n            ")])]],2)],1)}),[],!1,null,null,null);e.default=l.exports},"8dc2":function(t,e,s){!function(t){"use strict";var e={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"//:0"},srcset:{type:String},intersectionOptions:{type:Object,default:function(){return{}}},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,data:function(){return{observer:null,intersected:!1,loaded:!1}},computed:{srcImage:function(){return this.intersected&&this.src?this.src:this.srcPlaceholder},srcsetImage:function(){return!(!this.intersected||!this.srcset)&&this.srcset}},methods:{load:function(){this.$el.getAttribute("src")!==this.srcPlaceholder&&(this.loaded=!0,this.$emit("load"))}},render:function(t){var e=t("img",{attrs:{src:this.srcImage,srcset:this.srcsetImage},domProps:this.$attrs,class:{"v-lazy-image":!0,"v-lazy-image-loaded":this.loaded},on:{load:this.load}});return this.usePicture?t("picture",{on:{load:this.load}},this.intersected?[this.$slots.default,e]:[e]):e},mounted:function(){var t=this;"IntersectionObserver"in window&&(this.observer=new IntersectionObserver((function(e){e[0].isIntersecting&&(t.intersected=!0,t.observer.disconnect(),t.$emit("intersect"))}),this.intersectionOptions),this.observer.observe(this.$el))},destroyed:function(){"IntersectionObserver"in window&&this.observer.disconnect()}},s={install:function(t,s){t.component("VLazyImage",e)}};t.default=e,t.VLazyImagePlugin=s,Object.defineProperty(t,"__esModule",{value:!0})}(e)}}]);