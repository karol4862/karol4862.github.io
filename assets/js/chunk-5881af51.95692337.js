(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5881af51"],{1370:function(e,t,s){"use strict";s.r(t);var a=(s("8e6e"),s("7514"),s("96cf"),s("3b8d")),r=(s("7f7f"),s("bd86")),d=(s("ac6a"),s("456d"),s("5c47")),i=s("2f62");function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}function n(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){Object(r.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}var l={props:["data","userId","page","type","selectedAddress","headerText"],components:{Switches:d.a},data:function(){return{address:{},deleteAddress:{},selectedAddressId:void 0}},watch:{selectedAddress:{immediate:!0,handler:function(e){this.selectedAddressId=e}}},methods:{toggleAddressModal:function(e,t){0!==Object.keys(e).length?this.address=n({},e,{type:t}):e.id&&this.loggedUser?this.address={type:t,email:this.loggedUser.currentUser.email,name:this.loggedUser.currentUser.name,surname:this.loggedUser.currentUser.surname,phone:this.loggedUser.currentUser.phone}:this.address={type:t},this.$refs.modalAddress.show()},toggleDeleteModal:function(e){this.deleteAddress=e,this.$refs.modalDelete.show()},saveAddress:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t,s,a,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$emit("changeLoader",!0),!this.userId){e.next=14;break}if(t=this,!this.address.id){e.next=8;break}return e.next=6,this.$store.dispatch("address/updateAddress",n({},this.address,{userId:this.userId})).then((function(e){t.$notify("success filled","Zarządzanie adresami","Adres dostawy został zapisany prawidłowo")})).catch((function(e){t.$notify("error filled","Błąd podczas zapisu adresu dostawy",e.message),t.$emit("changeLoader",!1)}));case 6:e.next=10;break;case 8:return e.next=10,this.$store.dispatch("address/createAddress",n({},this.address,{userId:this.userId})).then((function(e){t.$notify("success filled","Zarządzanie adresami","Adres dostawy został zapisany prawidłowo")})).catch((function(e){t.$notify("error filled","Błąd podczas zapisu adresu dostawy",e.message),t.$emit("changeLoader",!1)}));case 10:return e.next=12,this.getUserAddress();case 12:e.next=21;break;case 14:return s=null,a=null,"userPage"===this.page?(this.address.uid||(this.address.uid=Math.floor(1e3*Math.random())+1),a=this.data.find((function(e,t){return s=t,e.uid===r.address.uid}))):(this.address.id||(this.address.id=Math.floor(1e3*Math.random())+1),a=this.data.find((function(e,t){return s=t,e.id===r.address.id}))),a?this.data.splice(s,1,this.address):this.data.push(this.address),this.$notify("success filled","Zarządzanie adresami","Adres dostawy został zapisany prawidłowo"),e.next=21,this.getUserAddress(this.data);case 21:this.$refs.modalAddress.hide(),this.$emit("changeLoader",!1);case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),confirmDelete:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(){var t,s,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$emit("changeLoader",!0),!this.userId){e.next=8;break}return t=this,e.next=5,this.$store.dispatch("address/delete",{id:this.deleteAddress.id}).then((function(e){t.$notify("success filled","Zarządzanie adresami","Wybrany adres został usunięty")})).catch((function(e){t.$notify("error filled","Błąd podczas usuwania adresu dostawy",e.message),t.$emit("changeLoader",!1)}));case 5:t.$emit("reloadAddresses"),e.next=13;break;case 8:s=null,this.data.find((function(e,t){return s=t,e.uid===a.deleteAddress.uid})),this.data.splice(s,1),this.$notify("success filled","Zarządzanie adresami","Wybrany adres został usunięty"),self.$emit("reloadAddresses");case 13:this.$refs.modalDelete.hide(),this.$emit("changeLoader",!1);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),getUserAddress:function(){var e=Object(a.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$emit("changeLoader",!0),e.prev=1,!this.userId){e.next=10;break}return e.t0=this,e.next=6,this.$store.dispatch("address/getAddress",this.userId);case 6:e.t1=e.sent,e.t0.$emit.call(e.t0,"reloadAddresses",e.t1),e.next=11;break;case 10:this.$emit("reloadAddresses",t);case 11:e.next=16;break;case 13:e.prev=13,e.t2=e.catch(1),this.$notify("error filled","Zarządzanie użytkownikiem","Wystąpił błąd podczas wczytywania danych.");case 16:case"end":return e.stop()}}),e,this,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),selectAddress:function(e){"shoppingCart"===this.page&&(this.selectedAddressId=e.id,this.$emit("changeSelectedAddress",e.id,this.type),this.$notify("success filled","Dane do dostawy zostały zmienione"))},getFullAddress:function(e){var t="";return e.city&&(t+="".concat(e.city," ")),e.street&&(t+="".concat(e.city?", ":"","ul. ").concat(e.street," ")),e.houseNumber&&(t+="".concat(e.houseNumber)),e.apartmentNumber&&(t+=" / ".concat(e.apartmentNumber)),t},getPostalData:function(e){var t="";return e.postalCode&&(t+="".concat(e.postalCode)),e.postOffice&&(t+=" ".concat(e.postOffice)),t}},computed:n({},Object(i.b)({loggedUser:"getLoggedUser"}))},c=s("2877"),u=Object(c.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-colxx",{staticClass:"mb-3 users-content",attrs:{xxs:"12"}},[s("b-row",[s("b-colxx",{staticClass:"text-primary",attrs:{xxs:"12"}},[s("div",{staticClass:"d-flex border-bottom border-primary"},["shoppingCart"!==e.page||"shoppingCart"===e.page&&"dostawa"===e.type?["shoppingCart"===e.page?s("div",{staticClass:"icon"},[s("i",{staticClass:"fas fa-address-card fa-2x mr-2"})]):e._e(),e._v(" "),s("div",{staticClass:"align-self-center"},["shoppingCart"!==e.page?s("h6",{staticClass:"mb-0"},[e._v(e._s(e.headerText))]):e._e(),e._v(" "),"shoppingCart"===e.page?s("h3",{staticClass:"mb-0"},[e._v(e._s(e.headerText))]):e._e()])]:e._e(),e._v(" "),s("div",{staticClass:"align-self-center ml-auto"},[s("p",{staticClass:"mb-0",staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleAddressModal({},e.type)}}},[s("i",{staticClass:"fas fa-plus"}),e._v(" "+e._s("dodaj nowy adres "+("dostawa"===e.type?"dostawy":"faktury")))])])],2)]),e._v(" "),s("b-colxx",{attrs:{xxs:"12"}},[e.data.filter((function(t){return t.type===e.type})).length>0?s("b-row",e._l(e.data.filter((function(t){return t.type===e.type})),(function(t,a){return s("b-colxx",{key:a,attrs:{xxs:"12",md:"6"}},[s("b-card",{staticClass:"my-2 address-card",class:{active:t.id===e.selectedAddressId!=""},attrs:{"no-body":""}},[s("b-card-body",{staticClass:"py-3 address-card-body",on:{click:function(s){return e.selectAddress(t)}}},[t.id===e.selectedAddressId?s("div",{staticClass:"selected-address"},[s("i",{staticClass:"fas fa-check fa-2x text-primary"})]):e._e(),e._v(" "),s("h5",{staticClass:"title"},[e._v("\n                                "+e._s(t.companyName||t.name+" "+t.surname)+"\n                            ")]),e._v(" "),s("ul",{staticClass:"fa-ul ml-3 mb-0"},[e.getFullAddress(t)?s("li",[s("i",{staticClass:"fas fa-angle-right fa-li text-primary"}),e._v("\n                                    "+e._s(e.getFullAddress(t))+"\n                                ")]):e._e(),e._v(" "),e.getPostalData(t)?s("li",[s("i",{staticClass:"fas fa-angle-right fa-li text-primary"}),e._v("\n                                    "+e._s(e.getPostalData(t))+"\n                                ")]):e._e(),e._v(" "),t.nip?s("li",[s("i",{staticClass:"fas fa-angle-right fa-li text-primary"}),e._v("\n                                    NIP: "+e._s(t.nip)+"\n                                ")]):e._e(),e._v(" "),t.phone?s("li",[s("i",{staticClass:"fas fa-angle-right fa-li text-primary"}),e._v("\n                                    Tel.: "+e._s(t.phone)+"\n                                ")]):e._e(),e._v(" "),t.email?s("li",[s("i",{staticClass:"fas fa-angle-right fa-li text-primary"}),e._v("\n                                    E-mail: "+e._s(t.email)+"\n                                ")]):e._e()])]),e._v(" "),s("b-card-footer",{staticClass:"p-1 bg-white"},[s("div",{staticClass:"float-right"},[s("b-button",{staticClass:"ml-1",attrs:{variant:"outline-primary",size:"sm",type:"button"},on:{click:function(s){return e.toggleDeleteModal(t)}}},[e._v("usuń")]),e._v(" "),s("b-button",{staticClass:"ml-1",attrs:{variant:"outline-primary",size:"sm",type:"button"},on:{click:function(s){return e.toggleAddressModal(t,e.type)}}},[e._v("edytuj")])],1)])],1)],1)})),1):s("b-row",[s("b-colxx",{attrs:{xxs:"12"}},[s("b-card",{staticClass:"my-2 d-flex flex-row",attrs:{"no-body":""}},[s("div",{staticClass:"d-flex flex-grow-1 min-width-zero"},[s("div",{staticClass:"card-body"},[e._v("\n                                "+e._s(e._f("l")("Brak dostępnych adresów"))+"\n                            ")])])])],1)],1)],1)],1),e._v(" "),s("b-modal",{ref:"modalAddress",attrs:{id:"modalAddress",size:"lg",title:"Zarządzaj adresem - "+e.type,centered:"","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""}},[s("b-form",{ref:"formAddress",attrs:{id:"formAddress"},on:{submit:function(t){return t.preventDefault(),e.saveAddress(t)}}},[s("b-row",["faktura"===e.address.type?s("b-colxx",{attrs:{xxs:"12"}},[s("b-form-group",[s("div",{staticClass:"d-flex align-items-center"},[s("switches",{staticClass:"mb-0",attrs:{theme:"custom",color:"primary-inverse"},model:{value:e.address.kind,callback:function(t){e.$set(e.address,"kind",t)},expression:"address.kind"}}),e._v(" "),s("p",{staticClass:"mb-0 pl-2",staticStyle:{cursor:"pointer"}},[e.address.kind?s("span",[e._v("Firma")]):s("span",[e._v("Osoba prywatna")])])],1)])],1):e._e(),e._v(" "),e.address.kind?s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Nazwa firmy"}},[s("b-form-input",{attrs:{required:"",placeholder:"Nazwa firmy",type:"text",state:!!e.address.companyName},model:{value:e.address.companyName,callback:function(t){e.$set(e.address,"companyName",t)},expression:"address.companyName"}})],1)],1):e._e(),e._v(" "),e.address.kind?s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"NIP"}},[s("b-form-input",{attrs:{required:"",placeholder:"NIP",type:"text",state:!!e.address.nip},model:{value:e.address.nip,callback:function(t){e.$set(e.address,"nip",t)},expression:"address.nip"}})],1)],1):e._e(),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Imię"}},[s("b-form-input",{attrs:{required:"dostawa"===e.address.type||"faktura"===e.address.type&&!e.address.kind,placeholder:"Imię",type:"text",state:"dostawa"===e.address.type||"faktura"===e.address.type&&!e.address.kind?!!e.address.name:void 0},model:{value:e.address.name,callback:function(t){e.$set(e.address,"name",t)},expression:"address.name"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Nazwisko"}},[s("b-form-input",{attrs:{required:"dostawa"===e.address.type||"faktura"===e.address.type&&!e.address.kind,placeholder:"Nazwisko",type:"text",state:"dostawa"===e.address.type||"faktura"===e.address.type&&!e.address.kind?!!e.address.surname:void 0},model:{value:e.address.surname,callback:function(t){e.$set(e.address,"surname",t)},expression:"address.surname"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12"}},[s("b-form-group",{attrs:{label:"Miejscowość"}},[s("b-form-input",{attrs:{required:"dostawa"===e.address.type,placeholder:"Miejscowość",type:"text",state:"dostawa"===e.address.type?!!e.address.city:void 0},model:{value:e.address.city,callback:function(t){e.$set(e.address,"city",t)},expression:"address.city"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"12",lg:"6"}},[s("b-form-group",{attrs:{label:"Ulica"}},[s("b-form-input",{attrs:{placeholder:"Ulica",type:"text"},model:{value:e.address.street,callback:function(t){e.$set(e.address,"street",t)},expression:"address.street"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"6",md:"6",lg:"3"}},[s("b-form-group",{attrs:{label:"Numer domu"}},[s("b-form-input",{attrs:{required:"dostawa"===e.address.type,placeholder:"Numer domu",type:"text",state:"dostawa"===e.address.type?!!e.address.houseNumber:void 0},model:{value:e.address.houseNumber,callback:function(t){e.$set(e.address,"houseNumber",t)},expression:"address.houseNumber"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"6",md:"6",lg:"3"}},[s("b-form-group",{attrs:{label:"Numer mieszkania"}},[s("b-form-input",{attrs:{placeholder:"Numer mieszkania",type:"text"},model:{value:e.address.apartmentNumber,callback:function(t){e.$set(e.address,"apartmentNumber",t)},expression:"address.apartmentNumber"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Kod pocztowy"}},[s("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:"##-###",expression:"'##-###'"}],attrs:{required:"dostawa"===e.address.type,placeholder:"Kod pocztowy",type:"text",state:"dostawa"===e.address.type?!!e.address.postalCode:void 0},model:{value:e.address.postalCode,callback:function(t){e.$set(e.address,"postalCode",t)},expression:"address.postalCode"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Poczta"}},[s("b-form-input",{attrs:{required:"dostawa"===e.address.type,placeholder:"Poczta",type:"text",state:"dostawa"===e.address.type?!!e.address.postOffice:void 0},model:{value:e.address.postOffice,callback:function(t){e.$set(e.address,"postOffice",t)},expression:"address.postOffice"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Telefon"}},[s("b-form-input",{attrs:{required:"",placeholder:"Telefon",type:"text",state:!!e.address.phone},model:{value:e.address.phone,callback:function(t){e.$set(e.address,"phone",t)},expression:"address.phone"}})],1)],1),e._v(" "),s("b-colxx",{attrs:{xxs:"12",md:"6"}},[s("b-form-group",{attrs:{label:"Adres e-mail"}},[s("b-form-input",{attrs:{required:"",placeholder:"Adres e-mail",type:"email",state:!!e.address.email},model:{value:e.address.email,callback:function(t){e.$set(e.address,"email",t)},expression:"address.email"}})],1)],1)],1)],1),e._v(" "),s("template",{slot:"modal-footer"},[s("b-button",{staticClass:"mr-1",attrs:{type:"button",variant:"outline-primary"},on:{click:function(t){return e.$refs.modalAddress.hide()}}},[e._v("Anuluj")]),e._v(" "),s("b-button",{attrs:{type:"submit",variant:"primary",form:"formAddress"}},[e._v("Zapisz")])],1)],2),e._v(" "),s("b-modal",{ref:"modalDelete",attrs:{id:"modalDelete",size:"md",title:"Usuń adres - "+e.type,centered:"","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""}},[s("b-form",{ref:"formDelete",attrs:{id:"formDelete"},on:{submit:function(t){return t.preventDefault(),e.confirmDelete(t)}}},[s("b-row",[s("b-colxx",{attrs:{xs:"12"}},[s("h6",[e._v("Czy chcesz usunąć wybrany adres?")])])],1)],1),e._v(" "),s("template",{slot:"modal-footer"},[s("b-button",{staticClass:"mr-1",attrs:{type:"button",variant:"outline-primary"},on:{click:function(t){return e.$refs.modalDelete.hide()}}},[e._v("Nie")]),e._v(" "),s("b-button",{attrs:{type:"submit",variant:"primary",form:"formDelete"}},[e._v("Tak")])],1)],2)],1)}),[],!1,null,null,null);t.default=u.exports},1798:function(e,t,s){"use strict";var a=s("5d61");s.n(a).a},"5c47":function(e,t,s){"use strict";var a=s("bd86"),r={name:"switches",props:{typeBold:{default:!1},value:{default:!1},disabled:{default:!1},label:{default:""},textEnabled:{default:""},textDisabled:{default:""},color:{default:"default"},theme:{default:"default"},emitOnMount:{default:!0}},mounted:function(){this.emitOnMount&&this.$emit("input",this.value)},methods:{trigger:function(e){this.$emit("input",e.target.checked)}},computed:{classObject:function(){var e,t=this.color,s=this.value,r=this.theme,d=this.typeBold,i=this.disabled;return e={"vue-switcher":!0},Object(a.a)(e,"vue-switcher--unchecked",!s),Object(a.a)(e,"vue-switcher--disabled",i),Object(a.a)(e,"vue-switcher--bold",d),Object(a.a)(e,"vue-switcher--bold--unchecked",d&&!s),Object(a.a)(e,"vue-switcher-theme--".concat(r),t),Object(a.a)(e,"vue-switcher-color--".concat(t),t),e},shouldShowLabel:function(){return""!==this.label||""!==this.textEnabled||""!==this.textDisabled}}},d=(s("1798"),s("2877")),i=Object(d.a)(r,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{class:e.classObject},[e.shouldShowLabel?s("span",{staticClass:"vue-switcher__label"},[e.label?s("span",{domProps:{textContent:e._s(e.label)}}):e._e(),e._v(" "),!e.label&&e.value?s("span",{domProps:{textContent:e._s(e.textEnabled)}}):e._e(),e._v(" "),e.label||e.value?e._e():s("span",{domProps:{textContent:e._s(e.textDisabled)}})]):e._e(),e._v(" "),s("input",{attrs:{type:"checkbox",disabled:e.disabled},domProps:{checked:e.value},on:{change:e.trigger}}),e._v(" "),s("div")])}),[],!1,null,null,null);t.a=i.exports},"5d61":function(e,t,s){}}]);