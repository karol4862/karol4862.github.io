(window.webpackJsonp=window.webpackJsonp||[]).push([["manageNotifications"],{"39a8":function(t,e,a){"use strict";a.r(e);var n=(a("8e6e"),a("456d"),a("bd86")),o=(a("7514"),a("ac6a"),a("96cf"),a("3b8d")),i=a("d30a"),r=a("6191"),s=a.n(r),l=(a("5d4a"),a("2f62")),c={props:["display","data"],data:function(){return{isLoad:!1,emailLogs:{}}},methods:{getEmailLogDetals:function(){this.isLoad=!0;var t={id:this.data.id},e=this;this.$store.dispatch("email/GetEmailLog",t).then((function(t){e.emailLogs=t,e.isLoad=!1})).catch((function(t){e.isLoad=!1}))}},computed:{activeModal:{get:function(){return this.display&&this.getEmailLogDetals(),this.display},set:function(t){this.$emit("changeDisplayModal",t)}}}},d=a("2877"),u=Object(d.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoad?a("div",{staticClass:"loading"}):t._e(),t._v(" "),a("b-modal",{ref:"modalSends",attrs:{id:"modalSends",size:"lg",title:"Wysłane komunikaty",centered:"","no-close-on-esc":"","no-close-on-backdrop":"","hide-header-close":""},model:{value:t.activeModal,callback:function(e){t.activeModal=e},expression:"activeModal"}},[a("b-form",{ref:"formSends",attrs:{id:"formSends"}},[a("b-row",[a("b-colxx",{attrs:{xxs:"6"}},[a("b-form-group",{attrs:{label:"Użytkownik"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Użytkownik",type:"text"},model:{value:t.emailLogs.userName,callback:function(e){t.$set(t.emailLogs,"userName",e)},expression:"emailLogs.userName"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"6"}},[a("b-form-group",{attrs:{label:"Typ"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Typ",type:"text"},model:{value:t.emailLogs.emailConfigurationType,callback:function(e){t.$set(t.emailLogs,"emailConfigurationType",e)},expression:"emailLogs.emailConfigurationType"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"6"}},[a("b-form-group",{attrs:{label:"Data wysłania"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"sentDate",type:"text"},model:{value:t.emailLogs.sentDate,callback:function(e){t.$set(t.emailLogs,"sentDate",e)},expression:"emailLogs.sentDate"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"6"}},[a("b-form-group",{attrs:{label:"Status"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Status",type:"text"},model:{value:t.emailLogs.status,callback:function(e){t.$set(t.emailLogs,"status",e)},expression:"emailLogs.status"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"6"}},[a("b-form-group",{attrs:{label:"Kod kontrahenta"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Kod kontrahenta",type:"text"},model:{value:t.emailLogs.contractorCode,callback:function(e){t.$set(t.emailLogs,"contractorCode",e)},expression:"emailLogs.contractorCode"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"6"}},[a("b-form-group",{attrs:{label:"Email"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Email",type:"text"},model:{value:t.emailLogs.email,callback:function(e){t.$set(t.emailLogs,"email",e)},expression:"emailLogs.email"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"12"}},[a("b-form-group",{attrs:{label:"Wyjątek"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Wyjątek",type:"text"},model:{value:t.emailLogs.exception,callback:function(e){t.$set(t.emailLogs,"exception",e)},expression:"emailLogs.exception"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"12"}},[a("b-form-group",{attrs:{label:"Temat"}},[a("b-form-input",{attrs:{readonly:"",placeholder:"Temat",type:"text"},model:{value:t.emailLogs.topic,callback:function(e){t.$set(t.emailLogs,"topic",e)},expression:"emailLogs.topic"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"12"}},[a("b-form-group",{attrs:{label:"Wiadomość"}},[a("span",{domProps:{innerHTML:t._s(t.emailLogs.message)}})])],1)],1)],1),t._v(" "),a("template",{slot:"modal-footer"},[a("b-button",{staticClass:"squared",attrs:{type:"button",variant:"outline-primary"},on:{click:function(e){t.activeModal=!1}}},[t._v("Zamknij")])],1)],2)],1)}),[],!1,null,null,null).exports;function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}var m={data:function(){return{isLoad:!1,showModal:!1,modalData:{},typeNav:"",role:{id:void 0},editButtons:[{hint:this.L("Edytuj"),icon:"edit",onClick:this.editClick}],editButtonsEmailsLogs:[{hint:this.L("Podgląd"),icon:"find",onClick:this.editClickLogs}],pageSize:10,pageSizes:[5,10,15],permissionsType:[{id:"create",name:"Create"},{id:"update",name:"Update"},{id:"read",name:"Read"},{id:"delete",name:"Delete"}],navigationElements:[{type:["dodaj","edytuj"],id:"szablony",name:"Szablony",isValid:!0},{type:["edytuj"],id:"wyslane",name:"Wysłane",isValid:!0}],currentNav:"szablony",IsNotValid:!1}},methods:{hideModal:function(){this.showModal=!1},editClick:function(t){this.$router.push({path:"szablon/edytuj/".concat(t.row.data.id)})},editClickLogs:function(t){this.showModal=!0,this.modalData=t.row.data},getEmailLogs:function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isLoad=!0,e=this,this.$store.dispatch("email/GetEmailLogs").then((function(t){e.isLoad=!1})).catch((function(t){e.isLoad=!1}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),getEmailTemplates:function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.isLoad=!0,e=this,this.$store.dispatch("email/GetEmailTemplates").then((function(t){e.isLoad=!1})).catch((function(t){e.isLoad=!1}));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),checkIsValid:function(){for(var t=[],e=this.$refs.formNotifcation.elements,a=0;a<e.length;a++){var n=e[a];"INPUT"===n.tagName&&(n.validity.valid||t.push(n.id))}t.length>0?(this.IsNotValid=!0,this.navigationElements.forEach((function(e){var a=t.find((function(t){return t==e.id}));e.isValid=void 0===a}))):(this.IsNotValid=!1,this.navigationElements.forEach((function(t){t.isValid=!0})))}},computed:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){Object(n.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},Object(l.b)({emailTemplates:"email/getEmailTemplatesList",emailLogs:"email/getEmailLogsList"})),created:function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getEmailLogs(),this.getEmailTemplates();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),watch:{role:{handler:function(t,e){var a=this;this.$nextTick((function(){a.checkIsValid()}))},deep:!0}},components:{DxDataGrid:i.DxDataGrid,DxColumn:i.DxColumn,DxEditing:i.DxEditing,DxButton:s.a,DxPager:i.DxPager,DxPaging:i.DxPaging,DxStateStoring:i.DxStateStoring,DxSearchPanel:i.DxSearchPanel,DxSummary:i.DxSummary,DxTotalItem:i.DxTotalItem,DxLoadPanel:i.DxLoadPanel,SendsModal:u}},f=Object(d.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rolePage"},[t.isLoad?a("div",{staticClass:"loading"}):t._e(),t._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("piaf-breadcrumb")],1)],1),t._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12",md:"3"}},[a("b-card",{attrs:{"no-body":""}},[a("div",{staticClass:"card-body p-3"},[a("b-row",{staticClass:"h-100"},[a("b-colxx",{staticClass:"text-primary",attrs:{xxs:"12"}},[a("div",{staticClass:"d-flex border-bottom border-primary"},[a("div",{staticClass:"align-self-center"},[a("h6",{staticClass:"mb-0"},[t._v("Konfiguracja powiadomień")])])])]),t._v(" "),a("b-colxx",{staticClass:"pt-1",attrs:{xxs:"12"}},[a("b-nav",{staticClass:"w-100 navigationBox",attrs:{vertical:""}},t._l(t.navigationElements,(function(e,n){return a("b-nav-item",{key:n,attrs:{active:t.currentNav===e.id},on:{click:function(a){t.currentNav=e.id}}},[e.isValid?a("span",[t._v(t._s(e.name))]):a("span",[t._v(t._s(e.name)+" "),a("span",{staticClass:"float-right font-weight-bold"},[t._v("[*]")])])])})),1)],1)],1)],1)])],1),t._v(" "),a("b-colxx",{attrs:{xxs:"12",md:"9"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:"szablony"===t.currentNav,expression:"currentNav === 'szablony'"}]},[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("div",{staticClass:"d-flex border-bottom border-dark pt-3"},[a("div",{staticClass:"align-self-center"},[a("h6",{staticClass:"mb-0"},[t._v("Szablony")])])])])],1),t._v(" "),a("b-row",{staticClass:"pt-3"},[a("b-colxx",{attrs:{xs:"12"}},["szablony"===t.currentNav?a("dx-data-grid",{attrs:{id:"emailTemplates","data-source":t.emailTemplates,"show-row-lines":!0,"column-hiding-enabled":!0,"row-alternation-enabled":!0,columnAutoWidth:!0,noDataText:"Brak danych..."}},[a("dx-search-panel",{attrs:{visible:!0,width:250,placeholder:"Szukaj..."}}),t._v(" "),a("dx-state-storing",{attrs:{enabled:!0,type:"localStorage","storage-key":"notifications-storage"}}),t._v(" "),a("dx-paging",{attrs:{"page-size":t.pageSize,pageIndex:t.currentPage}}),t._v(" "),a("dx-pager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":t.pageSizes,"show-info":!0,infoText:"Strona {0} z {1} dostępnych ({2} pozycji)"}}),t._v(" "),a("dx-column",{attrs:{buttons:t.editButtons,type:"buttons"}}),t._v(" "),a("dx-column",{attrs:{caption:"Kod","allow-editing":!1,"data-field":"code"}}),t._v(" "),a("dx-column",{attrs:{caption:"Typ","allow-editing":!1,"data-field":"type"}}),t._v(" "),a("dx-column",{attrs:{caption:"Tytuł","allow-editing":!1,"data-field":"header"}}),t._v(" "),a("dx-column",{attrs:{caption:"Aktywne","allow-editing":!1,"data-field":"isActive"}}),t._v(" "),a("dx-summary",[a("dx-total-item",{attrs:{column:"type","summary-type":"count",displayFormat:"Ilość: {0}"}})],1)],1):t._e()],1)],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"wyslane"===t.currentNav,expression:"currentNav === 'wyslane'"}]},[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("div",{staticClass:"d-flex border-bottom border-dark pt-3"},[a("div",{staticClass:"align-self-center"},[a("h6",{staticClass:"mb-0"},[t._v("Lista komunikatów")])])])])],1),t._v(" "),a("b-row",{staticClass:"pt-3"},[a("b-colxx",{attrs:{xxs:"12"}},["wyslane"===t.currentNav?a("dx-data-grid",{attrs:{id:"emailLogs","data-source":t.emailLogs,"show-row-lines":!0,"column-hiding-enabled":!0,"row-alternation-enabled":!0,columnAutoWidth:!0,noDataText:"Brak danych..."}},[a("dx-search-panel",{attrs:{visible:!0,width:250,placeholder:"Szukaj..."}}),t._v(" "),a("dx-paging",{attrs:{"page-size":t.pageSize}}),t._v(" "),a("dx-pager",{attrs:{"show-page-size-selector":!0,"allowed-page-sizes":t.pageSizes,"show-info":!0,infoText:"Strona {0} z {1} dostępnych ({2} pozycji)"}}),t._v(" "),a("dx-column",{attrs:{buttons:t.editButtonsEmailsLogs,type:"buttons"}}),t._v(" "),a("dx-column",{attrs:{caption:"Adres e-mail","allow-editing":!1,"data-field":"email"}}),t._v(" "),a("dx-column",{attrs:{caption:"Typ","allow-editing":!1,"data-field":"emailConfigurationType"}}),t._v(" "),a("dx-column",{attrs:{caption:"Data wysłania","allow-editing":!1,"data-type":"datetime",format:"yyyy-MM-dd","data-field":"sentDate"}})],1):t._e()],1)],1)],1)])],1),t._v(" "),a("SendsModal",{attrs:{display:t.showModal,data:t.modalData},on:{changeDisplayModal:t.hideModal}})],1)}),[],!1,null,null,null);e.default=f.exports},"5d4a":function(t,e,a){"use strict";var n=a("03cb"),o=a("8a64"),i=a("061a"),r=a("7585");a("3626"),e.locale=n.locale.bind(n),e.loadMessages=o.load.bind(o),e.formatMessage=o.format.bind(o),e.formatNumber=i.format.bind(i),e.parseNumber=i.parse.bind(i),e.formatDate=r.format.bind(r),e.parseDate=r.parse.bind(r),e.message=o,e.number=i,e.date=r,e.disableIntl=function(){"intl"===i.engine()&&i.resetInjection(),"intl"===r.engine()&&r.resetInjection()}},6191:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("2b0e"),o=n.default||n,i=a("5cf5"),r=a("d710"),s=o.extend({extends:r.DxComponent,props:{accessKey:String,activeStateEnabled:Boolean,disabled:Boolean,elementAttr:Object,focusStateEnabled:Boolean,height:[Function,Number,String],hint:String,hoverStateEnabled:Boolean,icon:String,onClick:Function,onContentReady:Function,onDisposing:Function,onInitialized:Function,onOptionChanged:Function,rtlEnabled:Boolean,stylingMode:String,tabIndex:Number,template:{},text:String,type:String,useSubmitBehavior:Boolean,validationGroup:String,visible:Boolean,width:[Function,Number,String]},computed:{instance:function(){return this.$_instance}},beforeCreate:function(){this.$_WidgetClass=i.default}});e.DxButton=s,e.default=s},"6dfc":function(t,e,a){},"9a3b":function(t,e){t.exports=function(t){var e={};function a(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=3)}([function(t,e,a){var n=a(1);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),(0,a(4).default)("569ded6a",n,!1,{})},function(t,e,a){(t.exports=a(2)(!1)).push([t.i,"\n.tinymce {\n  height: 100%;\n}\n.tinymce__init-area {\n    height: 100%;\n}\n.tinymce > .mce-container {\n    height: 100%;\n}\n.tinymce > .mce-container > .mce-container-body {\n      flex-flow: column;\n      display: flex;\n      height: 100%;\n}\n.tinymce > .mce-container > .mce-container-body .mce-edit-area {\n        flex-flow: column;\n        display: flex;\n        flex-grow: 1;\n}\n.tinymce > .mce-container > .mce-container-body .mce-edit-area iframe {\n          flex-grow: 1;\n}\n",""])},function(t,e,a){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var a=function(t,e){var a,n,o,i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var s=(a=r,n=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(o," */")),l=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot).concat(t," */")}));return[i].concat(l).concat([s]).join("\n")}return[i].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(a,"}"):a})).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(var r=0;r<t.length;r++){var s=t[r];null!=s[0]&&n[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="(".concat(s[2],") and (").concat(a,")")),e.push(s))}},e}},function(t,e,a){"use strict";a.r(e);var n={props:{config:{type:Object,default:function(){return{}}},value:{type:String,default:""},name:{type:String,default:""}},data:function(){return{editorInstance:null,content:""}},methods:{handleError:function(t){console.error(t),this.$emit("error",t)},handleSuccess:function(t){this.editorInstance=t,this.$emit("init",t);var e=this.value;t.setContent(e),t.on("input change undo redo setcontent",this.handleInput),t.on("change setcontent",this.handleChange)},setContent:function(t){try{this.editorInstance.setContent(t)}catch(t){this.handleError(t)}},getContent:function(){var t=this.editorInstance;return t?t.getContent():(this.handleError(new Error("vue-mce is not initialized yet")),null)},handleInput:function(){var t=this.editorInstance.getContent();this.content=t,this.$emit("input",t)},handleChange:function(){this.$emit("change",this.content)}},watch:{value:function(t){t!==this.content&&this.setContent(t)}},mounted:function(){if(!window.tinymce)return this.handleError(new Error("TinyMce was not found"));var t=this.config,e=this.$refs.textarea;t.target=e,t.init_instance_callback=this.handleSuccess,window.tinymce.init(t).catch(this.handleError)},beforeDestroy:function(){this.$emit("destroy",this.editorInstance),window.tinymce.remove(this.$refs.textarea)}},o=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce"},[e("div",{ref:"textarea",staticClass:"tinymce__init-area"}),this._v(" "),e("input",{attrs:{name:this.name,hidden:""},domProps:{value:this.content}})])};o._withStripped=!0;var i=function(t,e,a,n,o,i,r,s){var l=typeof(t=t||{}).default;"object"!==l&&"function"!==l||(t=t.default);var c,d="function"==typeof t?t.options:t;if(e&&(d.render=e,d.staticRenderFns=[],d._compiled=!0),o&&(c=o),c)if(d.functional){d._injectStyles=c;var u=d.render;d.render=function(t,e){return c.call(e),u(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:d}}(n,o,0,0,(function(t){a(0)}));i.options.__file="src/component/index.vue";var r=i.exports;a.d(e,"component",(function(){return r}));var s={component:r,install:function(t){t.component("vue-mce",r)}};e.default=s},function(t,e,a){"use strict";function n(t,e){for(var a=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],s={id:t+":"+o,css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(s):a.push(n[r]={id:r,parts:[s]})}return a}a.r(e),a.d(e,"default",(function(){return f}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,l=0,c=!1,d=function(){},u=null,p="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(t,e,a,o){c=a,u=o||{};var r=n(t,e);return h(r),function(e){for(var a=[],o=0;o<r.length;o++){var s=r[o];(l=i[s.id]).refs--,a.push(l)}for(e?h(r=n(t,e)):r=[],o=0;o<a.length;o++){var l;if(0===(l=a[o]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete i[l.id]}}}}function h(t){for(var e=0;e<t.length;e++){var a=t[e],n=i[a.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](a.parts[o]);for(;o<a.parts.length;o++)n.parts.push(x(a.parts[o]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var r=[];for(o=0;o<a.parts.length;o++)r.push(x(a.parts[o]));i[a.id]={id:a.id,refs:1,parts:r}}}}function b(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function x(t){var e,a,n=document.querySelector("style["+p+'~="'+t.id+'"]');if(n){if(c)return d;n.parentNode.removeChild(n)}if(m){var o=l++;n=s||(s=b()),e=y.bind(null,n,o,!1),a=y.bind(null,n,o,!0)}else n=b(),e=function(t,e){var a=e.css,n=e.media,o=e.sourceMap;if(n&&t.setAttribute("media",n),u.ssrId&&t.setAttribute(p,e.id),o&&(a+="\n/*# sourceURL="+o.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,n),a=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else a()}}var v,g=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function y(t,e,a,n){var o=a?"":n.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var i=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(i,r[e]):t.appendChild(i)}}}])},c451:function(t,e,a){"use strict";a.r(e);var n=(a("7f7f"),a("96cf"),a("3b8d")),o=(a("a481"),a("4df8")),i=(a("6dfc"),a("5c47")),r=a("2cbf"),s=a("9a3b"),l={data:function(){return{isLoad:!1,template:{type:"Email",isActive:!0,code:"",content:"",contents:[{code:"",content:"",isActive:!0,language:"pl",parentId:1,type:"Email"}]},images:[],tinymceOptions:{language_url:"../../../../assets/langs/pl.js",remove_script_host:0,force_br_newlines:!1,force_p_newlines:!1,forced_root_block:"",height:350,inline:!1,theme:"modern",fontsize_formats:"8px 10px 12px 14px 16px 18px 20px 22px 24px 26px 28px 30px 34px 38px 42px 48px 54px 60px",plugins:["advlist autolink autosave link image lists charmap print preview hr anchor pagebreak spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking","save table contextmenu directionality emoticons template textcolor paste textcolor colorpicker"],toolbar1:"formatselect fontsizeselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat",image_advtab:!0},templateType:[{id:1,code:"Email",displayName:"Email"}]}},methods:{cancelTemplate:function(){this.$router.replace({name:"Powiadomienia"})},getTemplate:function(t){this.isLoad=!0;var e={id:t},a=this;this.$store.dispatch("email/GetTemplateToEdit",e).then((function(t){a.template=Object.assign({},t),a.isLoad=!1})).catch((function(t){a.isLoad=!1}))},saveTemplate:function(){this.isLoad=!0;var t={id:this.template.id,code:this.template.code,header:this.template.header,type:this.template.type,isActive:this.template.isActive,content:this.template.content,to:this.template.to,cc:this.template.cc,bcc:this.template.bcc,parentId:0,contents:[this.template.contents[0]]},e=this;this.$store.dispatch("email/SaveTemplate",t).then((function(t){e.$notify("success filled","Zapis szablonu","Szablon ".concat(e.code," został zapisany prawidłowo"),{duration:3e3,permanent:!1}),e.isLoad=!1,e.$router.replace({name:"Powiadomienia"})})).catch((function(t){e.isLoad=!1}))}},created:function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"szablon_edytuj"==this.$route.name&&(this.typeNav="edytuj",this.getTemplate(this.$route.params.id));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),watch:{},computed:{},components:{vSelectComponent:o.a,tinymce:r.a,"vue-mce":s.component,Switches:i.a}},c=a("2877"),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isLoad?a("div",{staticClass:"loading"}):t._e(),t._v(" "),a("b-container",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("piaf-breadcrumb",{attrs:{heading:"Szablon"}})],1)],1)],1),t._v(" "),a("b-container",[a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("div",{staticClass:"d-flex border-bottom border-dark pt-3"},[a("div",{staticClass:"align-self-center"},[a("h6",{staticClass:"mb-0"},[t._v("\n              Podstawowe informacje o szablonie\n            ")])])])]),t._v(" "),a("b-colxx",{attrs:{xxs:"12"}},[a("b-form",{ref:"formProduct",attrs:{id:"formProduct"},on:{submit:function(e){return e.preventDefault(),t.saveTemplate(e)}}},[a("b-row",{staticClass:"pt-3"},[a("b-colxx",{attrs:{xxs:"12"}},[a("b-form-group",{attrs:{label:"Status"}},[a("div",{staticClass:"d-flex align-items-center"},[a("switches",{staticClass:"mb-0",attrs:{theme:"custom",color:"primary-inverse"},model:{value:t.template.isActive,callback:function(e){t.$set(t.template,"isActive",e)},expression:"template.isActive"}}),t._v(" "),a("p",{staticClass:"mb-0 pl-2",staticStyle:{cursor:"pointer"}},[t.template.isActive?a("span",[t._v(t._s(t._f("l")("aktywny")))]):a("span",[t._v(t._s(t._f("l")("nieaktywny")))])])],1)])],1),t._v(" "),a("b-colxx",{attrs:{xxs:"12",md:"6"}},[a("b-form-group",{attrs:{label:"Typ"}},[a("vSelectComponent",{attrs:{label:"displayName",options:t.templateType},model:{value:t.template.type,callback:function(e){t.$set(t.template,"type",e)},expression:"template.type"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xs:"12",md:"6"}},[a("b-form-group",{attrs:{label:"Kod"}},[a("b-form-input",{attrs:{required:"",placeholder:"Kod",type:"text",readonly:""},model:{value:t.template.code,callback:function(e){t.$set(t.template,"code",e)},expression:"template.code"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xs:"12"}},[a("b-form-group",{attrs:{label:"Tytuł"}},[a("b-form-input",{attrs:{required:"",placeholder:"Tytuł",type:"text"},model:{value:t.template.header,callback:function(e){t.$set(t.template,"header",e)},expression:"template.header"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xs:"12"}},[a("b-form-group",{attrs:{label:"Parametry"}},[a("b-form-input",{attrs:{required:"",placeholder:"Parametry",type:"text",readonly:""},model:{value:t.template.content,callback:function(e){t.$set(t.template,"content",e)},expression:"template.content"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"4"}},[a("b-form-group",{attrs:{label:"Do odbiorcy"}},[a("b-form-input",{attrs:{placeholder:"DO",type:"text"},model:{value:t.template.to,callback:function(e){t.$set(t.template,"to",e)},expression:"template.to"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"4"}},[a("b-form-group",{attrs:{label:"Do wiadomości"}},[a("b-form-input",{attrs:{placeholder:"DW",type:"text"},model:{value:t.template.cc,callback:function(e){t.$set(t.template,"cc",e)},expression:"template.cc"}})],1)],1),t._v(" "),a("b-colxx",{attrs:{xxs:"4"}},[a("b-form-group",{attrs:{label:"Ukryta wiadomość"}},[a("b-form-input",{attrs:{placeholder:"UDW",type:"text"},model:{value:t.template.bcc,callback:function(e){t.$set(t.template,"bcc",e)},expression:"template.bcc"}})],1)],1)],1),t._v(" "),a("b-row",[a("b-colxx",{attrs:{xxs:"12"}},[a("b-form-group",{attrs:{label:"Zawartość"}},[a("vue-mce",{attrs:{config:t.tinymceOptions},model:{value:t.template.contents[0].content,callback:function(e){t.$set(t.template.contents[0],"content",e)},expression:"template.contents[0].content"}})],1)],1)],1)],1),t._v(" "),a("b-row",[a("b-colxx",{staticClass:"border-top border-dark py-2 text-right",attrs:{xxs:"12"}},[a("b-button",{staticClass:"squared",attrs:{type:"button",variant:"outline-primary"},on:{click:function(e){return e.preventDefault(),t.cancelTemplate()}}},[t._v("\n              Anuluj\n            ")]),t._v(" "),a("b-button",{staticClass:"squared",attrs:{type:"submit",variant:"primary",form:"formProduct"}},[t._v("\n              Zapisz\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=d.exports}}]);